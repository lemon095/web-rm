import{q as a,s as e,r as l,c as t,J as s,o as u,d,w as o,f as n,j as r,t as i,C as c,v as m,B as f,O as p,k as w,Y as _,_ as h,N as v,h as g,i as b,F as C,g as y,P as V,x as k}from"./index-DfhqehYw.js";import{_ as x}from"./uv-tabs.BTNUSgA1.js";import{_ as W}from"./uv-button.8EjU7rY1.js";import{u as j}from"./user.CviCvfAE.js";import"./uv-loading-icon.k2KJhDHf.js";const F=h(a({__name:"ConfirmWithdraw",props:{amount:{}},setup(a,{expose:h}){const v=a,g=e(),b=e("R"),C=e(""),y=()=>{m.service.wallet$withdraw({amount:v.amount,password:C.value}).then((a=>{a.success(((a,e)=>{p({title:m.t("other.7"),icon:"none"})}))}))};return b.value="RM",h({modalRef:g}),(a,e)=>{const p=w,h=_,V=l(t("uv-button"),W),k=s("bt-popup");return u(),d(k,{ref_key:"modalRef",ref:g},{default:o((()=>[n(p,{class:"ConfirmWithdraw"},{default:o((()=>[n(p,{class:"title"},{default:o((()=>[r(i(c(m).t("dialog.ConfirmWithdraw.1")),1)])),_:1}),n(p,{class:"amount"},{default:o((()=>[f("p",null,i(b.value),1),f("p",null,i(v.amount),1)])),_:1}),n(p,{class:"form-item"},{default:o((()=>[n(p,{class:"label"},{default:o((()=>[r(i(c(m).t("dialog.ConfirmWithdraw.2")),1)])),_:1}),n(h,{class:"input",placeholder:c(m).t("dialog.ConfirmWithdraw.2"),modelValue:C.value,"onUpdate:modelValue":e[0]||(e[0]=a=>C.value=a)},null,8,["placeholder","modelValue"])])),_:1}),n(p,{class:"bind-btn-wrap"},{default:o((()=>[n(V,{text:c(m).t("dialog.ConfirmWithdraw.4"),color:"#357aff",onClick:y},null,8,["text"])])),_:1}),n(p,{class:"tips"},{default:o((()=>[n(p,null,{default:o((()=>[r(i(c(m).t("dialog.ConfirmWithdraw.5")),1)])),_:1})])),_:1})])),_:1})])),_:1},512)}}}),[["__scopeId","data-v-1642bddb"]]),I=h(a({__name:"withdraw",setup(a){const f=j(),h=e({lineColor:"#FF2442",activeStyle:{color:"#FF2442"},inactiveStyle:{color:"#4B5563"},list:[{name:m.t("page.withdraw.1")},{name:m.t("page.withdraw.2")}],lineWidth:"100",lineHeight:"2",current:0,scrollable:!1}),I=e(0),R=e([]),U=e(""),$=e(""),B=e(""),T=e(),M=e({status:null}),S=({index:a})=>{h.value.current=a},q=()=>{if(2==M.value.status)return m.showToast(m.t("page.withdraw.15"));m.dialogFun(F,{amount:T.value}).then((a=>{}))},H=()=>{m.service.auth$bindBankCard({bank_name:U.value,card_holder:$.value,card_number:B.value,card_type:"借记卡"}).then((a=>{a.success(((a,e)=>{p({title:m.t("other.6"),icon:"success"})}))}))};return m.service.amountConfig$list({type:"withdraw"}).then((a=>{a.success((a=>{R.value=a,T.value=a[0].amount}))})),m.service.wallet$info({}).then((a=>{a.success((a=>{M.value=a}))})),(a,e)=>{const p=l(t("uv-tabs"),x),j=w,F=_,M=l(t("uv-button"),W),J=V,L=s("bt-page");return u(),d(L,{backIcon:"",navText:c(m).t("page.withdraw.1"),padding:0},{default:o((()=>[n(j,{class:"withdraw container"},{default:o((()=>[n(j,{class:"head"},{default:o((()=>[n(p,v(h.value,{onClick:S}),null,16)])),_:1}),0==h.value.current?(u(),d(J,{key:0,"scroll-y":"",class:"body body0 animate__animated animate__fadeInLeft"},{default:o((()=>[n(j,{class:"amount-grid"},{default:o((()=>[(u(!0),g(C,null,b(R.value,((a,e)=>(u(),d(j,{key:e,class:k(["amount-card",{selected:I.value===e}]),onClick:l=>((a,e)=>{I.value=e,T.value=a.amount})(a,e)},{default:o((()=>[n(j,{class:"amount"},{default:o((()=>[r(i(a.amount),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),n(F,{class:"customise-input",placeholder:c(m).t("page.withdraw.1"),modelValue:T.value,"onUpdate:modelValue":e[0]||(e[0]=a=>T.value=a),modelModifiers:{number:!0},type:"number"},null,8,["placeholder","modelValue"]),n(j,{class:"withdraw-btn"},{default:o((()=>[n(M,{text:c(m).t("page.withdraw.1"),color:"#357aff",onClick:q},null,8,["text"])])),_:1}),n(j,{class:"credit"},{default:o((()=>[r(i(c(m).t("page.withdraw.3"))+"："+i(c(f).user.credit_score),1)])),_:1})])),_:1})):y("",!0),1==h.value.current?(u(),d(J,{key:1,"scroll-y":"",class:"body body1 animate__animated animate__fadeInRight"},{default:o((()=>[n(j,{class:"form-group"},{default:o((()=>[n(j,{class:"form-item"},{default:o((()=>[n(j,{class:"label"},{default:o((()=>[r(i(c(m).t("page.withdraw.4")),1)])),_:1}),n(F,{class:"input",placeholder:c(m).t("page.withdraw.5"),modelValue:U.value,"onUpdate:modelValue":e[1]||(e[1]=a=>U.value=a)},null,8,["placeholder","modelValue"])])),_:1}),n(j,{class:"form-item"},{default:o((()=>[n(j,{class:"label"},{default:o((()=>[r(i(c(m).t("page.withdraw.6")),1)])),_:1}),n(F,{class:"input",placeholder:c(m).t("page.withdraw.7"),modelValue:$.value,"onUpdate:modelValue":e[2]||(e[2]=a=>$.value=a)},null,8,["placeholder","modelValue"])])),_:1}),n(j,{class:"form-item"},{default:o((()=>[n(j,{class:"label"},{default:o((()=>[r(i(c(m).t("page.withdraw.8")),1)])),_:1}),n(F,{class:"input",placeholder:c(m).t("page.withdraw.9"),modelValue:B.value,"onUpdate:modelValue":e[3]||(e[3]=a=>B.value=a)},null,8,["placeholder","modelValue"])])),_:1})])),_:1}),n(j,{class:"bind-btn-wrap"},{default:o((()=>[n(M,{onClick:H,text:c(m).t("page.withdraw.10"),color:"#357aff"},null,8,["text"])])),_:1}),n(j,{class:"tips"},{default:o((()=>[n(j,null,{default:o((()=>[r(i(c(m).t("page.withdraw.11")),1)])),_:1}),n(j,null,{default:o((()=>[r(i(c(m).t("page.withdraw.12")),1)])),_:1}),n(j,null,{default:o((()=>[r(i(c(m).t("page.withdraw.13")),1)])),_:1}),n(j,null,{default:o((()=>[r(i(c(m).t("page.withdraw.14")),1)])),_:1})])),_:1})])),_:1})):y("",!0)])),_:1})])),_:1},8,["navText"])}}}),[["__scopeId","data-v-55e4eb6c"]]);export{I as default};
